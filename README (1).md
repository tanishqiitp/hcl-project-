# ğŸ›’ Retail Data Engineering & Advanced Analytics Pipeline

## ğŸ“Œ Project Overview
This project simulates a **real-world retail data platform** covering the full lifecycle of:
- Synthetic data generation with **intentional data quality issues**
- Robust **data validation, cleansing, staging & quarantine**
- **Promotion effectiveness analysis**
- **Customer loyalty points calculation**
- **RFM-based customer segmentation**
- **Inventory stock-out & lost revenue impact analysis**
- **Customer notification simulation**

The solution mirrors **enterprise-grade ETL and analytics pipelines** commonly used in large retail organizations.

---

## ğŸ§± Data Domains
| Domain | Description |
|------|------------|
| Stores | Retail store master data |
| Products | Product catalog and pricing |
| Customers | Customer profiles and loyalty |
| Loyalty Rules | Reward calculation rules |
| Promotions | Time-bound discount campaigns |
| Sales Header | Transaction-level sales |
| Sales Line Items | Product-level sales |
| Inventory (Simulated) | Daily store-product stock |

---

## ğŸ› ï¸ Tech Stack
- **Python 3**
- **Pandas**
- **NumPy**
- **Matplotlib**
- **Seaborn**
- **Datetime**

---

## ğŸ“‚ CASE 1: DATA GENERATION WITH CONTROLLED ERRORS

### ğŸ¯ Objective
Generate realistic retail datasets and intentionally inject **data quality issues** to validate downstream cleansing logic.

### ğŸ”¹ Errors Injected
- Duplicate primary keys
- Invalid foreign keys
- Missing or negative numeric values
- Invalid categorical values
- Invalid or inconsistent dates

### ğŸ“„ Raw Output Files
stores.csv
products.csv
customers.csv
loyalty_rules.csv
promotions.csv
sales_header.csv
sales_line_items.csv

markdown
Copy code

---

## ğŸ§¹ CASE 2: DATA QUALITY VALIDATION & STAGING

### ğŸ¯ Objective
Implement a **data quality framework** that separates valid and invalid records.

### ğŸ”¹ Validation Framework
Each dataset follows a standard approach:
1. Create an `error_reason` column
2. Apply domain-specific validation rules
3. Split data into:
   - **Staging tables** â†’ clean & analytics-ready
   - **Quarantine tables** â†’ invalid records with reasons

### ğŸ”¹ Example Validation Rules
- Stores â†’ invalid regions, future opening dates
- Products â†’ invalid categories, negative stock
- Customers â†’ duplicate emails, negative loyalty points
- Promotions â†’ invalid date ranges, negative discounts
- Sales â†’ broken customer/store references

### ğŸ“„ Outputs
staging_<table>.csv
quarantine_<table>.csv

markdown
Copy code

<img width="784" height="484" alt="image" src="https://github.com/user-attachments/assets/9c95b711-894d-48b0-ae62-450756dfccca" />


---

## ğŸ“Š CASE 3: PROMOTION EFFECTIVENESS ANALYSIS

### ğŸ¯ Objective
Measure **sales and revenue lift** generated by promotions compared to baseline sales.

### ğŸ”¹ Promotion Identification Logic
A transaction is considered **promotional** if:
- `promotion_id` exists
- Transaction date falls within promotion start & end dates

### ğŸ”¹ Metrics Calculated
- Promotional units and revenue
- Baseline units and revenue
- **Sales Lift (%)**
- **Revenue Lift (%)**

### ğŸ“ˆ Visualization
- Bar chart showing **Top 3 most effective promotions** by sales lift

This helps marketing teams evaluate **campaign ROI**.

---

## â­ CASE 4: CUSTOMER SEGMENTATION (RFM MODEL)

### ğŸ¯ Objective
Segment customers using **Recency, Frequency, Monetary (RFM)** analysis.

### ğŸ”¹ RFM Metrics
- **Recency** â†’ Days since last purchase
- **Frequency** â†’ Number of transactions
- **Monetary** â†’ Total spend

### ğŸ”¹ Segments Created
1. **High-Spenders**
   - Top 10% customers by monetary value
2. **At-Risk Customers**
   - No purchase in 60+ days but holding loyalty points

### ğŸ“„ Output
customer_segmentation_case_4.csv

yaml
Copy code

<img width="696" height="479" alt="image" src="https://github.com/user-attachments/assets/610f102c-f3e6-490f-a6d3-0b2b756aa3b1" />
<img width="696" height="479" alt="image" src="https://github.com/user-attachments/assets/f696d19d-f89b-4129-ac2d-3604cb9a252b" />
<img width="724" height="556" alt="image" src="https://github.com/user-attachments/assets/fddff5b1-10a5-4935-88fb-565c054f9a06" />


---

## ğŸ¯ CASE 5: LOYALTY POINTS ENGINE & CUSTOMER NOTIFICATIONS

### ğŸ¯ Objective
Calculate loyalty points dynamically and simulate customer notifications.

### ğŸ”¹ Points Calculation Logic
- Tiered spend multipliers
- Loyalty status multipliers
- Customer tenure bonus

### ğŸ”¹ Outputs
- Updated customer loyalty balances
- Transaction-level earned points
====================================
Sending email to: cust1@mail.com

    Hi Cust_1,

    ğŸ‰ Great news! You've just earned 17247 loyalty points.

    â­ Your total loyalty balance is now: 4971 points.

    Thank you for shopping with us.
    Keep earning rewards with every purchase!

    â€” Your Loyalty Team
    
Email sent successfully âœ…
====================================

### ğŸ”” Notification Simulation
Customers who earn points receive **personalized reward emails**, printed to console to simulate email delivery.

---

## ğŸ“¦ CASE 6: INVENTORY STOCK-OUT & LOST SALES ANALYSIS

### ğŸ¯ Objective
Estimate **lost revenue due to inventory stock-outs**.

### ğŸ”¹ Key Steps
1. Identify **Top 5 best-selling products**
2. Simulate daily inventory per store-product
3. Calculate:
   - Out-of-stock days
   - Out-of-stock percentage
4. Estimate lost revenue using:
out_of_stock_days Ã— avg_daily_sales Ã— unit_price

shell
Copy code

### ğŸ“„ Output
inventory_sales_impact_case_6.csv

yaml
Copy code

<img width="623" height="463" alt="image" src="https://github.com/user-attachments/assets/870db613-a3ae-4909-b4e6-85bd0881dec8" />
<img width="623" height="464" alt="image" src="https://github.com/user-attachments/assets/ce643419-0617-4d04-9d2c-4d6c5beb2b03" />

---

## ğŸ“¤ Final Deliverables
- Clean & quarantined datasets
- Promotion effectiveness KPIs
- Customer segmentation outputs
- Updated loyalty balances
- Inventory loss impact analysis
- Business-ready insights

---

## ğŸš€ How to Run
```bash
pip install pandas numpy matplotlib seaborn
python model.py
```

ğŸ¯ Skills Demonstrated
Data Engineering & ETL Design

Data Quality Frameworks

Retail Analytics & KPIs

Promotion ROI Analysis

RFM Customer Segmentation

Inventory Optimization Analytics

Business Insights & Reporting

ğŸ“Œ Ideal Use Cases
Hackathons

Data Analyst / Data Engineer interviews

Retail analytics case studies

Portfolio projects
